/*! WPMU Dev code library - v1.0.13
 * http://premium.wpmudev.org/
 * Copyright (c) 2014; * Licensed GPLv2+ */
(function(t){function e(){null===r&&(a=jQuery(document),r=jQuery("html"),c=jQuery("body"),n(),o(),c.hasClass("no-auto-init")||(t.upgrade_multiselect(),t.upgrade_tooltips()))}function s(){null===l&&(l=jQuery("<div></div>").addClass("wpmui-overlay").appendTo(c)),c.addClass("wpmui-has-overlay"),r.addClass("wpmui-no-scroll")}function i(){c.removeClass("wpmui-has-overlay"),r.removeClass("wpmui-no-scroll")}function n(){var t=function t(t){var e=jQuery(this).closest(".wpmui-box");return t.preventDefault(),e.hasClass("static")?!1:(e.toggleClass("closed"),!1)};c.on("click",".wpmui-box > h3",t),c.on("click",".wpmui-box > h3 > .toggle",t)}function o(){var t=function t(t){var e=jQuery(this),s=e.closest(".wpmui-tabs"),i=s.next(".wpmui-tab-contents"),n=s.find(".active.tab"),o=e.attr("href"),a=n.attr("href"),r=i.find(o),c=i.find(a);return e.hasClass("active")||(n.removeClass("active"),c.removeClass("active")),e.addClass("active"),r.addClass("active"),t.preventDefault(),!1};c.on("click",".wpmui-tabs .tab",t)}var a=null,r=null,c=null,l=null;t.popup=function(){return e(),new h},t.ajax=function(t,s){return e(),new u(t,s)},t.upgrade_multiselect=function(t){e(),t=jQuery(t||c);var s=t.find("select[multiple]"),i=t.find("input[data-select-ajax]"),n=function n(t){var e=t.attr("id"),s="#s2id_"+e,i=t.parent().find(s);i.remove()},o=function o(){var t=jQuery(this),e={closeOnSelect:!1,width:"100%"};"1"!==t.data("wpmui-select")&&(t.data("wpmui-select","1"),n(t),window.setTimeout(function(){t.select2(e)},1))},a=function a(){var t=function t(t){return t.val},e=function e(t){return t.key},s=function s(t,e){var s=t.val(),i=[],n=[];jQuery(s.split(",")).each(function(){var t=this.split("::");n.push(t[0]),i.push({key:t[0],val:t[1]})}),t.val(n.join(",")),e(i)},i=jQuery(this),o={closeOnSelect:!1,width:"100%",multiple:!0,minimumInputLength:1,ajax:{url:i.attr("data-select-ajax"),dataType:"json",quietMillis:100,cache:!0,data:function(t){return{q:t}},results:function(t){return{results:t.items}}},id:e,formatResult:t,formatSelection:t,initSelection:s};"1"!==i.data("wpmui-select")&&(i.data("wpmui-select","1"),n(i),window.setTimeout(function(){i.select2(o)},1))};"function"==typeof jQuery.fn.each2?(s.each2(o),i.each2(a)):(s.each(o),i.each(a))},t.message=function(t){var s,i,n,o;e();var a=function a(t){return t.preventDefault(),i.remove(),!1},r=function r(){var t=jQuery(this).closest(".wpmui-msg");t.find(".debug").toggle()};return t===void 0?!1:(("string"==typeof t||t instanceof Array)&&(t={message:t}),t.message instanceof Array&&(t.message=t.message.join("<br />")),t.message?(t.type=void 0===t.type?"ok":(""+t.type).toLowerCase(),t.close=void 0===t.close?!0:t.close,t.parent=void 0===t.parent?".wrap":t.parent,t.insert_after=void 0===t.insert_after?"h2":t.insert_after,t.id=void 0===t.id?"":(""+t.id).toLowerCase(),t["class"]=void 0===t["class"]?"":(""+t["class"]).toLowerCase(),t.details=void 0===t.details?!1:t.details,("error"===t.type||"red"===t.type)&&(t.type="err"),("success"===t.type||"green"===t.type)&&(t.type="ok"),s=jQuery(t.parent).first(),s.length?(t.id&&jQuery('.wpmui-msg[data-id="'+t.id+'"]').length?(i=jQuery('.wpmui-msg[data-id="'+t.id+'"]').first(),o=!1):(i=jQuery("<div><p></p></div>"),t.id&&i.attr("data-id",t.id),o=!0),i.find("p").html(t.message),"err"===t.type&&t.details&&window.JSON&&(jQuery('<div class="debug" style="display:none"></div>').appendTo(i).text(JSON.stringify(t.details)),jQuery('<i class="dashicons dashicons-editor-help light"></i>').prependTo(i.find("p:first")).click(r).after(" ")),i.removeClass().addClass("updated wpmui-msg "+t["class"]),"err"===t.type&&i.addClass("error"),o&&(t.close&&(n=jQuery('<a href="#" class="wpmui-close">&times;</a>'),n.prependTo(i),n.click(a)),t.insert_after&&s.find(t.insert_after).length?(s=s.find(t.insert_after).first(),s.after(i)):s.prepend(i)),!0):!1):!1)},t.tooltip=function(t,s){var i,n;e();var o=function o(e){var i=e.outerWidth(),n=e.outerHeight(),o=5,a=t.outerWidth(),r=t.outerHeight(),c={};switch(c.left=(a-i)/2,c.top=(r-n)/2,c[s.pos]="auto",s.pos){case"top":c.bottom=r+o;break;case"bottom":c.top=r+o;break;case"left":c.right=a+o;break;case"right":c.left=a+o}e.css(c)},a=function a(){var t=jQuery(this).closest(".wpmui-tip-box").find(".wpmui-tip");t.addClass("wpmui-visible"),t.show(),o(t),window.setTimeout(function(){o(t)},35)},r=function r(){var t=jQuery(this).closest(".wpmui-tip-box").find(".wpmui-tip");t.removeClass("wpmui-visible"),t.hide()},c=function c(t){i.hasClass("wpmui-visible")?r.call(this,t):a.call(this,t)};return"string"==typeof s&&(s={content:s}),void 0===s.content?!1:(t=jQuery(t),t.length?(s.trigger=void 0===s.trigger?"hover":(""+s.trigger).toLowerCase(),s.pos=void 0===s.pos?"top":(""+s.pos).toLowerCase(),s["class"]=void 0===s["class"]?"":(""+s["class"]).toLowerCase(),n=t.parent(),n.hasClass("wpmui-tip-box")||(n=t.wrap('<span class="wpmui-tip-box"></span>').parent().addClass(s["class"]+"-box")),i=n.find("> .wpmui-tip"),i.length||(i=jQuery('<div class="wpmui-tip"></div>'),i.addClass(s["class"]).addClass(s.pos).appendTo(t.parent()).hide(),isNaN(s.width)||i.width(s.width),"hover"===s.trigger?t.hover(a,r):"click"===s.trigger&&t.click(c)),i.html(s.content),!0):!1)},t.upgrade_tooltips=function(){var e=jQuery("[data-tooltip]");e.each(function(){var e=jQuery(this),s={content:e.attr("data-tooltip"),pos:e.attr("data-pos"),trigger:e.attr("data-trigger"),"class":e.attr("data-class"),width:e.attr("data-width")};t.tooltip(e,s)})},t.obj=function(t){var e={};if(t instanceof Object)e=t;else if(t instanceof Array)if("function"==typeof t.reduce)e=t.reduce(function(t,e,s){return t[s]=e,t},{});else for(var s=t.length-1;s>0;s-=1)void 0!==t[s]&&(e[s]=t[s]);else"string"==typeof t?e.scalar=t:"number"==typeof t?e.scalar=t:"boolean"==typeof t&&(e.scalar=t);return e},jQuery(function(){e()});var h=function(){function t(){E=jQuery('<div class="wpmui-wnd"></div>'),T=jQuery('<div class="wpmui-wnd-title"><span class="the-title"></span></div>'),k=jQuery('<a href="#" class="wpmui-wnd-close"><i class="dashicons dashicons-no-alt"></i></a>'),O=jQuery('<div class="wpmui-wnd-content"></div>'),T.appendTo(E),O.appendTo(E),k.appendTo(T),E.appendTo(c).hide(),e(),p=!1,o()}function e(){E&&(E.on("click",".wpmui-wnd-close",d.close),E.on("click","thead .check-column :checkbox",h),E.on("click","tfoot .check-column :checkbox",h),E.on("click","tbody .check-column :checkbox",u),jQuery(window).on("resize",r))}function n(){E&&(E.off("click",".wpmui-wnd-close",d.close),E.off("click",".check-column :checkbox",h),jQuery(window).off("resize",r))}function o(t,e){if(!E)return!1;t=t||m,e=e||g;var n={width:t,height:e,"margin-left":-1*(t/2),"margin-top":-1*(e/2)};if(T.find(".the-title").text(v),b){E.find(".buttons").remove(),E.addClass("no-buttons"),w instanceof jQuery?O.html(w.html()):O.html(jQuery(w).html());var o=O.find(".buttons");o.length&&(o.appendTo(E),E.removeClass("no-buttons")),b=!1}E.is(":visible")?E.animate(n,200):E.css(n),l instanceof jQuery&&l.off("click",a),p?(E.show(),f&&s(),l.on("click",a),y&&(y=!1,r())):(E.hide(),i())}function a(){return E?!l instanceof jQuery?!1:(l.off("click",a),d.close(),void 0):!1}function r(){if(!E)return!1;var t=jQuery(this),e=t.innerWidth(),s=t.innerHeight(),i=m,n=g;m>e&&(i=e),g>s&&(n=s),o(i,n)}function h(t){var e=jQuery(this),s=e.prop("checked");t.shiftKey,e.closest("table").children("tbody, thead, tfoot").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",s)}function u(){var t=jQuery(this),e=t.closest("tbody").find(":checkbox").filter(":visible").not(":checked");return t.closest("table").children("thead, tfoot").find(":checkbox").prop("checked",0===e.length),!0}var d=this,p=!1,f=!1,m=740,g=400,v="Window",w="",b=!1,y=!1,S=null,C=null,x=null,E=null,T=null,k=null,O=null;this.modal=function(t){return f=t?!0:!1,o(),d},this.size=function(t,e){var s=Math.abs(parseFloat(t)),i=Math.abs(parseFloat(e));return isNaN(s)||(m=s),isNaN(i)||(g=i),y=!0,o(),d},this.title=function(t){return v=t,o(),d},this.content=function(t){return w=t,y=!0,b=!0,o(),d},this.onshow=function(t){return S=t,d},this.onhide=function(t){return C=t,d},this.onclose=function(t){return x=t,d},this.loading=function(t){return t?E.addClass("wpmui-loading"):E.removeClass("wpmui-loading"),d},this.show=function(){return p=!0,y=!0,o(),"function"==typeof S&&S.apply(d,[d.$()]),d},this.hide=function(){return p=!1,o(),"function"==typeof C&&C.apply(d,[d.$()]),d},this.close=function(){d.hide(),"function"==typeof x&&x.apply(d,[d.$()]),n(),E.remove(),E=null},this.$=function(){return E},d=this,t()},u=function(t,e){function s(){t||"string"!=typeof window.ajaxurl||(t=window.ajaxurl),d=c.find("#wpmui_void"),d.length||(d=jQuery("<iframe></iframe>").attr("name","wpmui_void").attr("id","wpmui_void").css({width:1,height:1,display:"none",visibility:"hidden",position:"absolute",left:-1e3,top:-1e3}).hide().appendTo(c)),i(),u.reset()}function i(){var t=document.createElement("INPUT"),e=new XMLHttpRequest;t.type="file",v="files"in t,g=!!(e&&"upload"in e&&"onprogress"in e.upload),w=!!window.FormData}function n(){var t=new window.XMLHttpRequest;return g&&(t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var e=t.loaded/t.total;o(e)}else o(-1)},!1),t.addEventListener("progress",function(t){if(t.lengthComputable){var e=t.loaded/t.total;o(e)}else o(-1)},!1)),t}function o(t){g&&"function"==typeof f&&f(t)}function a(t,e,s){o(100),"function"==typeof m&&m(t,e,s)}function r(t,e){var s={};if(e=e&&w,p instanceof jQuery)if(p.find(".wp-editor-area").each(function(){var t=jQuery(this).attr("id"),e="#wp-"+t+"-wrap",s=jQuery(e),i=window.tinyMCE.get(t);i&&s.hasClass("tmce-active")&&i.save()}),e)s=new window.FormData(p[0]);else{s={};var i={},n={validate:/^[a-zA-Z][a-zA-Z0-9_-]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_-]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_-]+$/},o=function(t,e,s){return t[e]=s,t},a=function(t){return void 0===i[t]&&(i[t]=0),i[t]++};jQuery.each(p.serializeArray(),function(){if(n.validate.test(this.name)){for(var t,e=this.name.match(n.key),i=this.value,r=this.name;void 0!==(t=e.pop());)r=r.replace(RegExp("\\["+t+"\\]$"),""),t.match(n.push)?i=o([],a(r),i):t.match(n.fixed)?i=o([],t,i):t.match(n.named)&&(i=o({},t,i));s=jQuery.extend(!0,s,i)}}),p.find("input[type=file]").each(function(){var t=jQuery(this),e=t.attr("name"),i=t.clone(!0)[0];s[":files"]=s[":files"]||{},s[":files"][e]=i})}else if("string"==typeof p){var r=p.split("&").map(function(t){return t.split("=",2)});s=e?new window.FormData:{};for(var c in r){var l=decodeURI(r[c][0]),h=decodeURI(r[c][1]);e?s.append(l,h):void 0!==s[l]?("object"!=typeof s[l]&&(s[l]=[s[l]]),s[l].push(h)):s[l]=h}}else if("object"==typeof p)if(e){s=new window.FormData;for(var u in p)p.hasOwnProperty(u)&&s.append(u,p[u])}else s=jQuery.extend({},p);return s instanceof window.FormData?s.append("action",t):s.action=t,s}function l(e,s){var i=r(e,!0),c={},l=null,h=!1;"json"!==s&&(s="text"),o(-1),c={url:t,type:"POST",dataType:"html",data:i,xhr:n,success:function(t){if(h=!0,l=t,"json"===s)try{l=jQuery.parseJSON(t)}catch(e){l={status:"ERR",data:t}}},error:function(t,e,s){h=!1,l=s},complete:function(t){l instanceof Object&&"ERR"===l.status&&(h=!1),a(l,h,t)}},i instanceof window.FormData&&(c.processData=!1,c.contentType=!1),jQuery.ajax(c)}function h(e,s){var i=r(e,!1),n=jQuery("<form></form>"),o="";for(var a in i)if(i.hasOwnProperty(a))if(":files"===a)for(var l in i[a]){var h=i[a][l];n.append(h)}else"action"===a?o=a+"="+(""+i[a]):jQuery('<input type="hidden" />').attr("name",a).attr("value",i[a]).appendTo(n);o=-1===t.indexOf("?")?"?"+o:"&"+o,n.attr("action",t+o).attr("method","POST").attr("enctype","multipart/form-data").attr("target",s).hide().appendTo(c),n.submit()}var u=this,d=null,p={},f=null,m=null,g=!1,v=!1,w=!1;this.data=function(t){return p=t,u},this.extract_data=function(t){return p=t,r("",!1)},this.onprogress=function(t){return f=t,u},this.ondone=function(t){return m=t,u},this.reset=function(){return p={},f=null,m=null,u},this.load_text=function(t){return t=t||e,l(t,"text"),u},this.load_json=function(t){return t=t||e,l(t,"json"),u},this.load_http=function(t,s){return t=t||"wpmui_void",s=s||e,h(s,t),u},u=this,s()}})(window.wpmUi=window.wpmUi||{});