/*! WPMU Dev code library - v1.1.1
 * http://premium.wpmudev.org/
 * Copyright (c) 2014; * Licensed GPLv2+ */
(function(t){function e(){null===o&&(n=jQuery(document),o=jQuery("html"),a=jQuery("body"),i(),s(),a.hasClass("no-auto-init")||(t.upgrade_multiselect(),t.upgrade_tooltips()),t.binary=new t.WpmUiBinary)}function i(){var t=function t(t){var e=jQuery(this).closest(".wpmui-box");return t.preventDefault(),e.hasClass("static")?!1:(e.toggleClass("closed"),!1)};a.on("click",".wpmui-box > h3",t),a.on("click",".wpmui-box > h3 > .toggle",t)}function s(){var t=function t(t){var e=jQuery(this),i=e.closest(".wpmui-tabs"),s=i.next(".wpmui-tab-contents"),n=i.find(".active.tab"),o=e.attr("href"),a=n.attr("href"),r=s.find(o),c=s.find(a);return e.hasClass("active")||(n.removeClass("active"),c.removeClass("active")),e.addClass("active"),r.addClass("active"),t.preventDefault(),!1};a.on("click",".wpmui-tabs .tab",t)}var n=null,o=null,a=null,r=null;t.popup=function(){return e(),new t.WpmUiWindow},t.ajax=function(i,s){return e(),new t.WpmUiAjaxData(i,s)},t.upgrade_multiselect=function(t){e(),t=jQuery(t||a);var i=t.find("select[multiple]"),s=t.find("input[data-select-ajax]"),n=function n(t){var e=t.attr("id"),i="#s2id_"+e,s=t.parent().find(i);s.remove()},o=function o(){var t=jQuery(this),e={closeOnSelect:!1,width:"100%"};"1"!==t.data("wpmui-select")&&(t.data("wpmui-select","1"),n(t),window.setTimeout(function(){t.select2(e)},1))},r=function r(){var t=function t(t){return t.val},e=function e(t){return t.key},i=function i(t,e){var i=t.val(),s=[],n=[];jQuery(i.split(",")).each(function(){var t=this.split("::");n.push(t[0]),s.push({key:t[0],val:t[1]})}),t.val(n.join(",")),e(s)},s=jQuery(this),o={closeOnSelect:!1,width:"100%",multiple:!0,minimumInputLength:1,ajax:{url:s.attr("data-select-ajax"),dataType:"json",quietMillis:100,cache:!0,data:function(t){return{q:t}},results:function(t){return{results:t.items}}},id:e,formatResult:t,formatSelection:t,initSelection:i};"1"!==s.data("wpmui-select")&&(s.data("wpmui-select","1"),n(s),window.setTimeout(function(){s.select2(o)},1))};"function"==typeof jQuery.fn.each2?(i.each2(o),s.each2(r)):(i.each(o),s.each(r))},t.message=function(t){var i,s,n,o;e();var a=function a(t){return t.preventDefault(),s.remove(),!1},r=function r(){var t=jQuery(this).closest(".wpmui-msg");t.find(".debug").toggle()};return t===void 0?!1:(("string"==typeof t||t instanceof Array)&&(t={message:t}),t.message instanceof Array&&(t.message=t.message.join("<br />")),t.message?(t.type=void 0===t.type?"ok":(""+t.type).toLowerCase(),t.close=void 0===t.close?!0:t.close,t.parent=void 0===t.parent?".wrap":t.parent,t.insert_after=void 0===t.insert_after?"h2":t.insert_after,t.id=void 0===t.id?"":(""+t.id).toLowerCase(),t["class"]=void 0===t["class"]?"":(""+t["class"]).toLowerCase(),t.details=void 0===t.details?!1:t.details,("error"===t.type||"red"===t.type)&&(t.type="err"),("success"===t.type||"green"===t.type)&&(t.type="ok"),i=jQuery(t.parent).first(),i.length?(t.id&&jQuery('.wpmui-msg[data-id="'+t.id+'"]').length?(s=jQuery('.wpmui-msg[data-id="'+t.id+'"]').first(),o=!1):(s=jQuery("<div><p></p></div>"),t.id&&s.attr("data-id",t.id),o=!0),s.find("p").html(t.message),"err"===t.type&&t.details&&window.JSON&&(jQuery('<div class="debug" style="display:none"></div>').appendTo(s).text(JSON.stringify(t.details)),jQuery('<i class="dashicons dashicons-editor-help light"></i>').prependTo(s.find("p:first")).click(r).after(" ")),s.removeClass().addClass("updated wpmui-msg "+t["class"]),"err"===t.type&&s.addClass("error"),o&&(t.close&&(n=jQuery('<a href="#" class="wpmui-close">&times;</a>'),n.prependTo(s),n.click(a)),t.insert_after&&i.find(t.insert_after).length?(i=i.find(t.insert_after).first(),i.after(s)):i.prepend(s)),!0):!1):!1)},t.confirm=function(t){function e(){var e=jQuery(this),i=parseInt(e.data("key"));s.remove(),n.remove(),"function"==typeof t.callback&&t.callback(i)}var i,s,n,o,r,c,l,h;if(!t instanceof Object)return!1;if(void 0===t.message)return!1;for(t.modal=void 0===t.modal?!0:t.modal,t.layout=void 0===t.layout?"fixed":t.layout,t.parent=void 0===t.parent?a:t.parent,t.buttons=void 0===t.buttons?["OK"]:t.buttons,t.callback=void 0===t.callback?!1:t.callback,i=jQuery(t.parent),t.modal&&(s=jQuery('<div class="wmui-confirm-modal"></div>').css({position:t.layout}).appendTo(i)),n=jQuery('<div class="wpmui-confirm-box"></div>').css({position:t.layout}).appendTo(i),o=jQuery('<div class="wpmui-confirm-msg"></div>').html(t.message),r=jQuery('<div class="wpmui-confirm-btn"></div>'),h=!0,c=0;t.buttons.length>c;c+=1)l=jQuery("<button></button>").html(t.buttons[c]).addClass(h?"button-primary":"button-secondary").data("key",c).click(e).prependTo(r),h=!1;return o.appendTo(n),r.appendTo(n),!0},t.tooltip=function(t,i){var s,n;e();var o=function o(e){var s=e.outerWidth(),n=e.outerHeight(),o=5,a=t.outerWidth(),r=t.outerHeight(),c={};switch(c.left=(a-s)/2,c.top=(r-n)/2,c[i.pos]="auto",i.pos){case"top":c.bottom=r+o;break;case"bottom":c.top=r+o;break;case"left":c.right=a+o;break;case"right":c.left=a+o}e.css(c)},a=function a(){var t=jQuery(this).closest(".wpmui-tip-box").find(".wpmui-tip");t.addClass("wpmui-visible"),t.show(),o(t),window.setTimeout(function(){o(t)},35)},r=function r(){var t=jQuery(this).closest(".wpmui-tip-box").find(".wpmui-tip");t.removeClass("wpmui-visible"),t.hide()},c=function c(t){s.hasClass("wpmui-visible")?r.call(this,t):a.call(this,t)};return"string"==typeof i&&(i={content:i}),void 0===i.content?!1:(t=jQuery(t),t.length?(i.trigger=void 0===i.trigger?"hover":(""+i.trigger).toLowerCase(),i.pos=void 0===i.pos?"top":(""+i.pos).toLowerCase(),i["class"]=void 0===i["class"]?"":(""+i["class"]).toLowerCase(),n=t.parent(),n.hasClass("wpmui-tip-box")||(n=t.wrap('<span class="wpmui-tip-box"></span>').parent().addClass(i["class"]+"-box")),s=n.find("> .wpmui-tip"),t.off(),s.length||(s=jQuery('<div class="wpmui-tip"></div>'),s.addClass(i["class"]).addClass(i.pos).appendTo(t.parent()).hide(),isNaN(i.width)||s.width(i.width)),"hover"===i.trigger?t.on("mouseenter",a).on("mouseleave",r):"click"===i.trigger&&t.on("click",c),s.html(i.content),!0):!1)},t.upgrade_tooltips=function(){var e=jQuery("[data-tooltip]");e.each(function(){var e=jQuery(this),i={content:e.attr("data-tooltip"),pos:e.attr("data-pos"),trigger:e.attr("data-trigger"),"class":e.attr("data-class"),width:e.attr("data-width")};t.tooltip(e,i)})},t.obj=function(t){var e={};if(t instanceof Object)e=t;else if(t instanceof Array)if("function"==typeof t.reduce)e=t.reduce(function(t,e,i){return t[i]=e,t},{});else for(var i=t.length-1;i>0;i-=1)void 0!==t[i]&&(e[i]=t[i]);else"string"==typeof t?e.scalar=t:"number"==typeof t?e.scalar=t:"boolean"==typeof t&&(e.scalar=t);return e},t._modal_overlay=function(){return null===r&&(r=jQuery("<div></div>").addClass("wpmui-overlay").appendTo(a)),r},t._make_modal=function(){t._modal_overlay(),a.addClass("wpmui-has-overlay"),o.addClass("wpmui-no-scroll")},t._close_modal=function(){a.removeClass("wpmui-has-overlay"),o.removeClass("wpmui-no-scroll")},jQuery(function(){e()})})(window.wpmUi=window.wpmUi||{}),function(t){var e=1,i={};t.popups=function(){return i},t.WpmUiWindow=function(){function s(){u.id=e,e+=1,i[u.id]=u,k=jQuery('<div class="wpmui-wnd"></div>'),E=jQuery('<div class="wpmui-wnd-title"><span class="the-title"></span></div>'),T=jQuery('<a href="#" class="wpmui-wnd-close"><i class="dashicons dashicons-no-alt"></i></a>'),j=jQuery('<div class="wpmui-wnd-content"></div>'),E.appendTo(k),j.appendTo(k),T.appendTo(E),k.appendTo(jQuery("body")).hide(),n(),d=!1,a()}function n(){k&&(k.on("click",".wpmui-wnd-close",u.close),k.on("click",".close",u.close),k.on("click","thead .check-column :checkbox",l),k.on("click","tfoot .check-column :checkbox",l),k.on("click","tbody .check-column :checkbox",h),jQuery(window).on("resize",c))}function o(){k&&(k.off("click",".wpmui-wnd-close",u.close),k.off("click",".close",u.close),k.off("click",".check-column :checkbox",l),jQuery(window).off("resize",c))}function a(e,i){if(!k)return!1;e=e||f,i=i||m;var s={width:e,height:i,"margin-left":-1*(e/2),"margin-top":-1*(i/2)},n=t._modal_overlay();if(E.find(".the-title").text(g),b){k.find(".buttons").remove(),k.removeClass(),k.addClass("wpmui-wnd no-buttons"),v instanceof jQuery?j.html(v.html()):j.html(jQuery(v).html());var o=j.find(".buttons");o.length&&(o.appendTo(k),k.removeClass("no-buttons")),k.addClass(w),b=!1}k.is(":visible")?k.animate(s,200):k.css(s),n instanceof jQuery&&n.off("click",r),d?(k.show(),p&&t._make_modal(),n.on("click",r),y&&(y=!1,c())):(k.hide(),t._close_modal())}function r(){var e=t._modal_overlay();return k?!e instanceof jQuery?!1:(e.off("click",r),u.close(),void 0):!1}function c(){if(!k)return!1;var t=jQuery(this),e=t.innerWidth(),i=t.innerHeight(),s=f,n=m;f>e&&(s=e),m>i&&(n=i),a(s,n)}function l(t){var e=jQuery(this),i=e.prop("checked");t.shiftKey,e.closest("table").children("tbody, thead, tfoot").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",i)}function h(){var t=jQuery(this),e=t.closest("tbody").find(":checkbox").filter(":visible").not(":checked");return t.closest("table").children("thead, tfoot").find(":checkbox").prop("checked",0===e.length),!0}var u=this,d=!1,p=!1,f=740,m=400,g="Window",v="",w="",b=!1,y=!1,C=null,S=null,x=null,k=null,E=null,T=null,j=null,O="hidden";this.id=0,this.modal=function(t){return p=t?!0:!1,a(),u},this.size=function(t,e){var i=Math.abs(parseFloat(t)),s=Math.abs(parseFloat(e));return isNaN(i)||(f=i),isNaN(s)||(m=s),y=!0,a(),u},this.title=function(t){return g=t,a(),u},this.content=function(t){return v=t,y=!0,b=!0,a(),u},this.set_class=function(t){return w=t,b=!0,a(),u},this.onshow=function(t){return C=t,u},this.onhide=function(t){return S=t,u},this.onclose=function(t){return x=t,u},this.loading=function(t){return t?k.addClass("wpmui-loading"):k.removeClass("wpmui-loading"),u},this.confirm=function(e){return"visible"!==O?u:!e instanceof Object?u:(e.layout="absolute",e.parent=k,t.confirm(e),u)},this.show=function(){return d=!0,y=!0,O="visible",a(),"function"==typeof C&&C.apply(u,[u.$()]),u},this.hide=function(){return d=!1,O="hidden",a(),"function"==typeof S&&S.apply(u,[u.$()]),u},this.close=function(){"closing"!==O&&(u.hide(),O="closing","function"==typeof x&&x.apply(u,[u.$()]),o(),k.remove(),k=null,delete i[u.id])},this.$=function(){return k},u=this,s()}}(window.wpmUi=window.wpmUi||{}),function(t){t.WpmUiAjaxData=function(t,e){function i(){t||"string"!=typeof window.ajaxurl||(t=window.ajaxurl),u=jQuery("body").find("#wpmui_void"),u.length||(u=jQuery("<iframe></iframe>").attr("name","wpmui_void").attr("id","wpmui_void").css({width:1,height:1,display:"none",visibility:"hidden",position:"absolute",left:-1e3,top:-1e3}).hide().appendTo(jQuery("body"))),s(),h.reset()}function s(){var t=document.createElement("INPUT"),e=new XMLHttpRequest;t.type="file",g="files"in t,m=!!(e&&"upload"in e&&"onprogress"in e.upload),v=!!window.FormData}function n(){var t=new window.XMLHttpRequest;return m&&(t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var e=t.loaded/t.total;o(e)}else o(-1)},!1),t.addEventListener("progress",function(t){if(t.lengthComputable){var e=t.loaded/t.total;o(e)}else o(-1)},!1)),t}function o(t){m&&"function"==typeof p&&p(t)}function a(t,e,i){o(100),"function"==typeof f&&f(t,e,i)}function r(t,e){var i={};if(e=e&&v,d instanceof jQuery)if(d.find(".wp-editor-area").each(function(){var t=jQuery(this).attr("id"),e="#wp-"+t+"-wrap",i=jQuery(e),s=window.tinyMCE.get(t);s&&i.hasClass("tmce-active")&&s.save()}),e)i=new window.FormData(d[0]);else{i={};var s={},n={validate:/^[a-zA-Z][a-zA-Z0-9_-]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_-]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_-]+$/},o=function(t,e,i){return t[e]=i,t},a=function(t){return void 0===s[t]&&(s[t]=0),s[t]++};jQuery.each(d.serializeArray(),function(){if(n.validate.test(this.name)){for(var t,e=this.name.match(n.key),s=this.value,r=this.name;void 0!==(t=e.pop());)r=r.replace(RegExp("\\["+t+"\\]$"),""),t.match(n.push)?s=o([],a(r),s):t.match(n.fixed)?s=o([],t,s):t.match(n.named)&&(s=o({},t,s));i=jQuery.extend(!0,i,s)}}),d.find("input[type=file]").each(function(){var t=jQuery(this),e=t.attr("name"),s=t.clone(!0)[0];i[":files"]=i[":files"]||{},i[":files"][e]=s})}else if("string"==typeof d){var r=d.split("&").map(function(t){return t.split("=",2)});i=e?new window.FormData:{};for(var c in r){var l=decodeURI(r[c][0]),h=decodeURI(r[c][1]);e?i.append(l,h):void 0!==i[l]?("object"!=typeof i[l]&&(i[l]=[i[l]]),i[l].push(h)):i[l]=h}}else if("object"==typeof d)if(e){i=new window.FormData;for(var u in d)d.hasOwnProperty(u)&&i.append(u,d[u])}else i=jQuery.extend({},d);return i instanceof window.FormData?i.append("action",t):i.action=t,i}function c(e,i){var s=r(e,!0),c={},l=null,h=!1;"json"!==i&&(i="text"),o(-1),c={url:t,type:"POST",dataType:"html",data:s,xhr:n,success:function(t){if(h=!0,l=t,"json"===i)try{l=jQuery.parseJSON(t)}catch(e){l={status:"ERR",data:t}}},error:function(t,e,i){h=!1,l=i},complete:function(t){l instanceof Object&&"ERR"===l.status&&(h=!1),a(l,h,t)}},s instanceof window.FormData&&(c.processData=!1,c.contentType=!1),jQuery.ajax(c)}function l(e,i){var s=r(e,!1),n=jQuery("<form></form>"),o="";for(var a in s)if(s.hasOwnProperty(a))if(":files"===a)for(var c in s[a]){var l=s[a][c];n.append(l)}else"action"===a?o=a+"="+(""+s[a]):jQuery('<input type="hidden" />').attr("name",a).attr("value",s[a]).appendTo(n);o=-1===t.indexOf("?")?"?"+o:"&"+o,n.attr("action",t+o).attr("method","POST").attr("enctype","multipart/form-data").attr("target",i).hide().appendTo(jQuery("body")),n.submit()}var h=this,u=null,d={},p=null,f=null,m=!1,g=!1,v=!1;this.data=function(t){return d=t,h},this.extract_data=function(t){return d=t,r("",!1)},this.onprogress=function(t){return p=t,h},this.ondone=function(t){return f=t,h},this.reset=function(){return d={},p=null,f=null,h},this.load_text=function(t){return t=t||e,c(t,"text"),h},this.load_json=function(t){return t=t||e,c(t,"json"),h},this.load_http=function(t,i){return t=t||"wpmui_void",i=i||e,l(i,t),h},h=this,i()}}(window.wpmUi=window.wpmUi||{}),function(t){t.WpmUiBinary=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.WpmUiBinary.utf8_encode=function(t){if("string"!=typeof t)return t;t=t.replace(/\r\n/g,"\n");var e,i="",s=0;for(s;t.length>s;s++)e=t.charCodeAt(s),128>e?i+=String.fromCharCode(e):e>127&&2048>e?(i+=String.fromCharCode(192|e>>6),i+=String.fromCharCode(128|63&e)):(i+=String.fromCharCode(224|e>>12),i+=String.fromCharCode(128|63&e>>6),i+=String.fromCharCode(128|63&e));return i},t.WpmUiBinary.utf8_decode=function(t){if("string"!=typeof t)return t;for(var e="",i=0,s=0;t.length>i;)s=t.charCodeAt(i),128>s?(e+=String.fromCharCode(s),i+=1):s>191&&224>s?(e+=String.fromCharCode((31&s)<<6|63&t.charCodeAt(i+1)),i+=2):(e+=String.fromCharCode((15&s)<<12|(63&t.charCodeAt(i+1))<<6|63&t.charCodeAt(i+2)),i+=3);return e},t.WpmUiBinary.base64_encode=function(i){if("string"!=typeof i)return i;i=t.WpmUiBinary.utf8_encode(i);for(var s,n,o,a,r,c,l,h="",u=0;i.length>u;)s=i.charCodeAt(u++),n=i.charCodeAt(u++),o=i.charCodeAt(u++),a=s>>2,r=(3&s)<<4|n>>4,c=(15&n)<<2|o>>6,l=63&o,isNaN(n)?c=l=64:isNaN(o)&&(l=64),h+=e.charAt(a)+e.charAt(r)+e.charAt(c)+e.charAt(l);return h},t.WpmUiBinary.base64_decode=function(i){if("string"!=typeof i)return i;i.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var s,n,o,a,r,c,l,h="",u=0;i.length>u;)a=e.indexOf(i.charAt(u++)),r=e.indexOf(i.charAt(u++)),c=e.indexOf(i.charAt(u++)),l=e.indexOf(i.charAt(u++)),s=a<<2|r>>4,n=(15&r)<<4|c>>2,o=(3&c)<<6|l,h+=String.fromCharCode(s),64!==c&&(h+=String.fromCharCode(n)),64!==l&&(h+=String.fromCharCode(o));return t.WpmUiBinary.utf8_decode(h)}}}(window.wpmUi=window.wpmUi||{});